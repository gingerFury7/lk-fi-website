{"ast":null,"code":"import _slicedToArray from\"C:/Users/Lonokill/Desktop/react app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory,useParams}from\"react-router-dom\";import{BLOG_SINGLE_ROUTE,HOMEPAGE_ROUTE}from\"./components/utils/consts\";import{SiteHeader}from\"./components/header\";import{SiteFooter}from\"./components/footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PostList=function PostList(){var params=useParams();var it_number=params.id;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SiteHeader,{}),/*#__PURE__*/_jsxs(\"section\",{class:\"hero-section\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#about\",class:\"banner-icon\",children:/*#__PURE__*/_jsx(\"i\",{class:\"flaticon-down-arrow\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"container\",style:{background:\"#212529\"},children:/*#__PURE__*/_jsxs(\"div\",{class:\"hero-content\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"title\",\"data-bg\":\"\\u0411\\u041B\\u041E\\u0413\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435 \\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"})}),/*#__PURE__*/_jsxs(\"ul\",{class:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:HOMEPAGE_ROUTE+'/'+it_number,children:\"\\u0414\\u043E\\u043C\\u0430\\u0448\\u043D\\u044F\\u044F \\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0411\\u043B\\u043E\\u0433\"})})]})]})})]}),/*#__PURE__*/_jsx(\"section\",{class:\"blog-section padding-top padding-bottom\",id:\"about\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",style:{background:\"#212529\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"row justify-content-center mb-40-60-none d-flex flex-column \",children:/*#__PURE__*/_jsx(Pagination_Post,{it_number:it_number})})})}),/*#__PURE__*/_jsx(SiteFooter,{})]});};var Post_Component=function Post_Component(_ref){var posts=_ref.posts,it_number=_ref.it_number;var history=useHistory();// console.log(\"proverka0 \",posts)\nJSON.stringify(posts);// console.log(\"proverka1 \",posts )\nreturn/*#__PURE__*/_jsx(_Fragment,{children:posts.map(function(e,i){return/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-10\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"post-item\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"post-thumb\",children:/*#__PURE__*/_jsx(\"a\",{href:\"blog-single.html\",children:/*#__PURE__*/_jsx(\"img\",{src:'https://cdn.lk-ft.ru'+e.Post_image.url,alt:\"blog\"})})}),/*#__PURE__*/_jsxs(\"div\",{class:\"post-content\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"post-date\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"#0\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"flaticon-clock\"}),e.Post_Date]})}),/*#__PURE__*/_jsx(\"h4\",{class:\"title\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/blog_single\",style:{color:\"white\"},children:e.Post_Title})}),/*#__PURE__*/_jsx(\"p\",{children:e.Post_teaser}),/*#__PURE__*/_jsx(\"a\",{href:\"#single-post\",class:\"custom-button\",style:{color:\"white\"},onClick:function onClick(){return history.push(BLOG_SINGLE_ROUTE+'/'+it_number+'/'+e.id);},children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u043E\\u0441\\u0442\\u0438\"})]})]})},i);})});};var Pagination=function Pagination(_ref2){var postPerPage=_ref2.postPerPage,totalPost=_ref2.totalPost,paginate=_ref2.paginate;var pageNumbers=[];// console.log(\"leng\" , totalPost)\nfor(var i=1;i<=Math.ceil(totalPost/postPerPage);i++){pageNumbers.push(i);}return/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"ul\",{class:\"pagination mt-4 \",children:pageNumbers.map(function(number){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return paginate(number);},href:\"#about\",children:number})},number);})})});};function Pagination_Post(_ref3){var it_number=_ref3.it_number;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(4),_useState4=_slicedToArray(_useState3,1),postPerPage=_useState4[0];//get current post\nvar indexOfLastPost=currentPage*postPerPage;var indexOfFirstPost=indexOfLastPost-postPerPage;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),posts=_React$useState2[0],setPosts=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isLoading=_React$useState4[0],setIsLoading=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isError=_React$useState6[0],setIsError=_React$useState6[1];var fetchData=function fetchData(){fetch('https://cdn.lk-ft.ru/posts').then(function(response){return response.json();}).then(function(data){setIsLoading(false);setPosts(data);}).catch(function(error){setIsLoading(false);setIsError(true);console.log(error);});};React.useEffect(function(){fetchData();},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});}// Change Page\nvar paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Post_Component,{posts:posts,it_number:it_number}),/*#__PURE__*/_jsx(Pagination,{postPerPage:postPerPage,totalPost:posts.length,paginate:paginate})]});}export default PostList;","map":{"version":3,"sources":["C:/Users/Lonokill/Desktop/react app/my-app/src/pages/blog.js"],"names":["React","useState","useHistory","useParams","BLOG_SINGLE_ROUTE","HOMEPAGE_ROUTE","SiteHeader","SiteFooter","PostList","params","it_number","id","background","Post_Component","posts","history","JSON","stringify","map","e","i","Post_image","url","Post_Date","color","Post_Title","Post_teaser","push","Pagination","postPerPage","totalPost","paginate","pageNumbers","Math","ceil","number","Pagination_Post","currentPage","setCurrentPage","indexOfLastPost","indexOfFirstPost","setPosts","isLoading","setIsLoading","isError","setIsError","fetchData","fetch","then","response","json","data","catch","error","console","log","useEffect","pageNumber","length"],"mappings":"iKAAA,MAAQA,CAAAA,KAAR,EAAkBC,QAAlB,KAAkC,OAAlC,CACA,OAASC,UAAT,CAAsBC,SAAtB,KAAuC,kBAAvC,CACA,OAASC,iBAAT,CAA4BC,cAA5B,KAAkD,2BAAlD,CACA,OAASC,UAAT,KAA2B,qBAA3B,CACA,OAASC,UAAT,KAA2B,qBAA3B,C,6IAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAI,CAEjB,GAAMC,CAAAA,MAAM,CAAGN,SAAS,EAAxB,CACA,GAAMO,CAAAA,SAAS,CAAGD,MAAM,CAACE,EAAzB,CAEA,mBACI,wCACI,KAAC,UAAD,IADJ,cAEI,iBAAS,KAAK,CAAC,cAAf,wBACI,UAAG,IAAI,CAAC,QAAR,CAAiB,KAAK,CAAC,aAAvB,uBACI,UAAG,KAAK,CAAC,qBAAT,EADJ,EADJ,cAII,YAAK,KAAK,CAAC,WAAX,CAAuB,KAAK,CAAE,CAACC,UAAU,CAAE,SAAb,CAA9B,uBACI,aAAK,KAAK,CAAC,cAAX,wBACI,WAAI,KAAK,CAAC,OAAV,CAAkB,UAAQ,0BAA1B,uBAAiC,2HAAjC,EADJ,cAEI,YAAI,KAAK,CAAC,YAAV,wBACI,iCACI,UAAG,IAAI,CAAEP,cAAc,CAAC,GAAf,CAAmBK,SAA5B,+GADJ,EADJ,cAII,iCACI,kDADJ,EAJJ,GAFJ,GADJ,EAJJ,GAFJ,cAqBI,gBAAS,KAAK,CAAC,yCAAf,CAAyD,EAAE,CAAC,OAA5D,uBACI,YAAK,KAAK,CAAC,WAAX,CAAuB,KAAK,CAAE,CAACE,UAAU,CAAE,SAAb,CAA9B,uBACI,YAAK,KAAK,CAAC,8DAAX,uBAEI,KAAC,eAAD,EAAiB,SAAS,CAAEF,SAA5B,EAFJ,EADJ,EADJ,EArBJ,cA+BI,KAAC,UAAD,IA/BJ,GADJ,CAmCH,CAxCD,CA2CA,GAAMG,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAyB,IAAvBC,CAAAA,KAAuB,MAAvBA,KAAuB,CAAfJ,SAAe,MAAfA,SAAe,CAE5C,GAAMK,CAAAA,OAAO,CAAGb,UAAU,EAA1B,CACD;AACCc,IAAI,CAACC,SAAL,CAAeH,KAAf,EACD;AACC,mBACI,yBAEYA,KAAK,CAACI,GAAN,CAAU,SAACC,CAAD,CAAGC,CAAH,qBAAU,YAAc,KAAK,CAAC,WAApB,uBACpB,aAAK,KAAK,CAAC,WAAX,wBACI,YAAK,KAAK,CAAC,YAAX,uBACI,UAAG,IAAI,CAAC,kBAAR,uBACI,YAAK,GAAG,CAAE,uBAAuBD,CAAC,CAACE,UAAF,CAAaC,GAA9C,CAAmD,GAAG,CAAC,MAAvD,EADJ,EADJ,EADJ,cAMI,aAAK,KAAK,CAAC,cAAX,wBACI,YAAK,KAAK,CAAC,WAAX,uBACI,WAAG,IAAI,CAAC,IAAR,wBAAa,UAAG,KAAK,CAAC,gBAAT,EAAb,CAA4CH,CAAC,CAACI,SAA9C,GADJ,EADJ,cAeI,WAAI,KAAK,CAAC,OAAV,uBACI,UAAG,IAAI,CAAC,cAAR,CAAuB,KAAK,CAAE,CAACC,KAAK,CAAE,OAAR,CAA9B,UAAiDL,CAAC,CAACM,UAAnD,EADJ,EAfJ,cAkBI,mBAAIN,CAAC,CAACO,WAAN,EAlBJ,cAmBI,UAAG,IAAI,CAAC,cAAR,CAAuB,KAAK,CAAC,eAA7B,CAA6C,KAAK,CAAE,CAACF,KAAK,CAAE,OAAR,CAApD,CAAsE,OAAO,CAAE,yBAAKT,CAAAA,OAAO,CAACY,IAAR,CAAavB,iBAAiB,CAAC,GAAlB,CAAsBM,SAAtB,CAAgC,GAAhC,CAAoCS,CAAC,CAACR,EAAnD,CAAL,EAA/E,gFAnBJ,GANJ,GADoB,EAAWS,CAAX,CAAV,EAAV,CAFZ,EADJ,CAsCH,CA5CD,CA8CA,GAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,OAAyC,IAAvCC,CAAAA,WAAuC,OAAvCA,WAAuC,CAA1BC,SAA0B,OAA1BA,SAA0B,CAAdC,QAAc,OAAdA,QAAc,CAExD,GAAMC,CAAAA,WAAW,CAAG,EAApB,CAED;AAEC,IAAI,GAAIZ,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,EAAGa,IAAI,CAACC,IAAL,CAAUJ,SAAS,CAAGD,WAAtB,CAAnB,CAAuDT,CAAC,EAAxD,CAA2D,CACvDY,WAAW,CAACL,IAAZ,CAAiBP,CAAjB,EAEH,CAED,mBACI,kCACI,WAAI,KAAK,CAAC,kBAAV,UAEKY,WAAW,CAACd,GAAZ,CAAiB,SAAAiB,MAAM,qBAEvB,iCACI,UAAG,OAAO,CAAE,yBAAMJ,CAAAA,QAAQ,CAACI,MAAD,CAAd,EAAZ,CAAoC,IAAI,CAAC,QAAzC,UAAoDA,MAApD,EADJ,EAASA,MAAT,CAFuB,EAAvB,CAFL,EADJ,EADJ,CAeH,CA1BD,CA4BC,QAASC,CAAAA,eAAT,OAAqC,IAAX1B,CAAAA,SAAW,OAAXA,SAAW,CAElC,cAAsCT,QAAQ,CAAC,CAAD,CAA9C,wCAAOoC,WAAP,eAAoBC,cAApB,eACA,eAAsBrC,QAAQ,CAAC,CAAD,CAA9B,yCAAO4B,WAAP,eAEJ;AACE,GAAOU,CAAAA,eAAe,CAAGF,WAAW,CAAGR,WAAvC,CACA,GAAOW,CAAAA,gBAAgB,CAAGD,eAAe,CAAGV,WAA5C,CAGA,oBAA0B7B,KAAK,CAACC,QAAN,CAAe,EAAf,CAA1B,oDAAOa,KAAP,qBAAc2B,QAAd,qBACA,qBAAkCzC,KAAK,CAACC,QAAN,CAAe,KAAf,CAAlC,qDAAOyC,SAAP,qBAAkBC,YAAlB,qBACA,qBAA8B3C,KAAK,CAACC,QAAN,CAAe,KAAf,CAA9B,qDAAO2C,OAAP,qBAAgBC,UAAhB,qBACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBC,KAAK,CAAC,4BAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACdR,YAAY,CAAC,KAAD,CAAZ,CACAF,QAAQ,CAACU,IAAD,CAAR,CACD,CALH,EAMGC,KANH,CAMS,SAACC,KAAD,CAAW,CAChBV,YAAY,CAAC,KAAD,CAAZ,CACAE,UAAU,CAAC,IAAD,CAAV,CACAS,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAVH,EAWD,CAZD,CAaArD,KAAK,CAACwD,SAAN,CAAgB,UAAM,CACpBV,SAAS,GACV,CAFD,CAEG,EAFH,EAGA,GAAIJ,SAAJ,CAAe,CACX,mBAAO,4EAAP,CACD,CAKL;AACE,GAAMX,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAC0B,UAAD,QAAgBnB,CAAAA,cAAc,CAACmB,UAAD,CAA9B,EAAjB,CAEM,mBACI,wCAEG,KAAC,cAAD,EAAgB,KAAK,CAAE3C,KAAvB,CAA8B,SAAS,CAAEJ,SAAzC,EAFH,cAGG,KAAC,UAAD,EAAY,WAAW,CAAEmB,WAAzB,CAAsC,SAAS,CAAEf,KAAK,CAAC4C,MAAvD,CAA+D,QAAQ,CAAE3B,QAAzE,EAHH,GADJ,CASL,CAED,cAAevB,CAAAA,QAAf","sourcesContent":["import  React, {  useState } from \"react\";\r\nimport { useHistory , useParams } from \"react-router-dom\";\r\nimport { BLOG_SINGLE_ROUTE, HOMEPAGE_ROUTE } from \"./components/utils/consts\";\r\nimport { SiteHeader } from \"./components/header\";\r\nimport { SiteFooter } from \"./components/footer\";\r\n\r\nconst PostList = ()=>{\r\n\r\n    const params = useParams()\r\n    const it_number = params.id;\r\n    \r\n    return(\r\n        <>\r\n            <SiteHeader/>\r\n            <section class=\"hero-section\"  >\r\n                <a href=\"#about\" class=\"banner-icon\">\r\n                    <i class=\"flaticon-down-arrow\"></i>\r\n                </a>\r\n                <div class=\"container\" style={{background: \"#212529\"}}>\r\n                    <div class=\"hero-content\">\r\n                        <h1 class=\"title\" data-bg=\"БЛОГ\"><span>Последние Новости</span></h1>\r\n                        <ul class=\"breadcrumb\">\r\n                            <li>\r\n                                <a href={HOMEPAGE_ROUTE+'/'+it_number}>Домашняя Страница</a>\r\n                            </li>\r\n                            <li>\r\n                                <span>Блог</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section class=\"blog-section padding-top padding-bottom\" id=\"about\" >\r\n                <div class=\"container\" style={{background: \"#212529\"}}>\r\n                    <div class=\"row justify-content-center mb-40-60-none d-flex flex-column \" >\r\n                   \r\n                        <Pagination_Post it_number={it_number} />\r\n                   \r\n                    \r\n                  </div>\r\n                </div>\r\n            </section>\r\n            <SiteFooter />\r\n        </>\r\n    );\r\n};\r\n\r\n \r\nconst Post_Component = ({posts , it_number }) =>{\r\n\r\n    const history = useHistory()\r\n   // console.log(\"proverka0 \",posts)\r\n    JSON.stringify(posts);\r\n   // console.log(\"proverka1 \",posts )\r\n    return(\r\n        <>\r\n              {\r\n                    posts.map((e,i)=>   <div  key={i} class=\"col-lg-10\">\r\n                    <div class=\"post-item\">\r\n                        <div class=\"post-thumb\">\r\n                            <a href=\"blog-single.html\">\r\n                                <img src={'https://cdn.lk-ft.ru'+e.Post_image.url} alt=\"blog\"/>\r\n                            </a>\r\n                        </div>\r\n                        <div class=\"post-content\">\r\n                            <div class=\"post-date\">\r\n                                <a href=\"#0\"><i class=\"flaticon-clock\"></i>{e.Post_Date}</a>\r\n                            </div>\r\n                            {/* <ul class=\"post-tags\">\r\n                                <li>\r\n                                    <a href=\"#0\">Видео</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href=\"#0\">Invest Ment</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href=\"#0\">Фильм</a>\r\n                                </li>\r\n                            </ul> */}\r\n                            <h4 class=\"title\">\r\n                                <a href=\"/blog_single\" style={{color: \"white\"}}>{e.Post_Title}</a>\r\n                            </h4>\r\n                            <p>{e.Post_teaser}</p>\r\n                            <a href=\"#single-post\" class=\"custom-button\" style={{color: \"white\"}} onClick={()=> history.push(BLOG_SINGLE_ROUTE+'/'+it_number+'/'+e.id)} >Подробности</a>\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n                        )\r\n                }\r\n\r\n        </>\r\n    )\r\n}  \r\n\r\nconst Pagination = ({postPerPage, totalPost , paginate}) => {\r\n    \r\n    const pageNumbers = [];\r\n\r\n   // console.log(\"leng\" , totalPost)\r\n\r\n    for(let i = 1; i <=Math.ceil(totalPost / postPerPage); i++){\r\n        pageNumbers.push(i);\r\n         \r\n    }\r\n\r\n    return(\r\n        <nav>\r\n            <ul class=\"pagination mt-4 \">\r\n           \r\n                {pageNumbers.map( number =>\r\n                     \r\n                 <li key={number}  >\r\n                     <a onClick={() => paginate(number)} href=\"#about\" >{number}</a>\r\n                 </li>\r\n                 \r\n                 )}\r\n               \r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\n function Pagination_Post({it_number}){\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [postPerPage] = useState(4);\r\n\r\n//get current post\r\n  const  indexOfLastPost = currentPage * postPerPage;\r\n  const  indexOfFirstPost = indexOfLastPost - postPerPage;\r\n \r\n\r\n  const [posts, setPosts] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [isError, setIsError] = React.useState(false);\r\n  const fetchData = () => {\r\n    fetch('https://cdn.lk-ft.ru/posts')\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setIsLoading(false);\r\n        setPosts(data);\r\n      })\r\n      .catch((error) => {\r\n        setIsLoading(false);\r\n        setIsError(true);\r\n        console.log(error);\r\n      });\r\n  };\r\n  React.useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n  if (isLoading) {\r\n      return <div>Загрузка...</div>;\r\n    }\r\n\r\n    \r\n  \r\n  \r\n// Change Page\r\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n        return(\r\n            <>\r\n               \r\n               <Post_Component posts={posts} it_number={it_number} />\r\n               <Pagination postPerPage={postPerPage} totalPost={posts.length} paginate={paginate} />\r\n\r\n        </>\r\n        )\r\n    \r\n  } \r\n\r\n  export default PostList;"]},"metadata":{},"sourceType":"module"}