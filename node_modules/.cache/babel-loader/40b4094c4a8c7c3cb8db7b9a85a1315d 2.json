{"ast":null,"code":"import _slicedToArray from\"C:/Users/lonok/Desktop/react app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useHistory,useParams}from\"react-router\";import{SiteFooter}from\"./footer\";import{SiteHeader}from\"./header\";import{BLOG_SINGLE_ROUTE}from\"./utils/consts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var SectionBlog=function SectionBlog(){var history=useHistory();var params=useParams();var it_number=params.id;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),posts=_React$useState2[0],setPosts=_React$useState2[1];var fetchData=function fetchData(){fetch('https://cdn.lk-ft.ru/posts').then(function(response){return response.json();}).then(function(data){setPosts(data);});};React.useEffect(function(){fetchData();},[]);var post_arr=[];posts.map(function(e,i){post_arr.push(e);});post_arr.length=4;//console.log(post_arr)\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{class:\"blog-section padding-top\",style:{display:\"flex\"},children:/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"section-header-2\",children:/*#__PURE__*/_jsxs(\"h2\",{class:\"title\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"stroke-text\",children:\"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435 \\u043D\\u043E\\u0432\\u0441\\u0442\\u0438\"}),/*#__PURE__*/_jsx(\"span\",{class:\"text-theme\",children:\"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"\",children:post_arr.map(function(e,i){var _e$Post_image;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"blog-footer-widget blog-item-2 mt-3\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"blog-footer-widget-right\",src:\"https://cdn.lk-ft.ru\"+((_e$Post_image=e.Post_image)===null||_e$Post_image===void 0?void 0:_e$Post_image.url)}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-footer-widget-left\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"blog-body\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"title\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#0\",children:e.Post_Title})}),/*#__PURE__*/_jsx(\"p\",{class:\"line-limit-3\",children:e.Post_teaser}),/*#__PURE__*/_jsx(\"a\",{href:\"#single-post\",class:\"read-more\",onClick:function onClick(){return history.push(BLOG_SINGLE_ROUTE+'/'+it_number+'/'+e.id);},children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"blog-footer\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"author\",children:/*#__PURE__*/_jsx(\"div\",{class:\"content\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"#single-post\",class:\"title\",onClick:function onClick(){return history.push(BLOG_SINGLE_ROUTE+'/'+it_number+'/'+e.id);},children:[e.Post_author,\" \",e.Post_author_lastname]})})}),/*#__PURE__*/_jsxs(\"a\",{href:\"#single-post\",onClick:function onClick(){return history.push(BLOG_SINGLE_ROUTE+'/'+it_number+'/'+e.id);},children:[/*#__PURE__*/_jsx(\"i\",{class:\"flaticon-calendar\"}),e.Post_Date]})]})]})]})});})})]})})});};","map":{"version":3,"sources":["C:/Users/lonok/Desktop/react app/my-app/src/pages/components/sectionBlog.js"],"names":["React","useHistory","useParams","SiteFooter","SiteHeader","BLOG_SINGLE_ROUTE","SectionBlog","history","params","it_number","id","useState","posts","setPosts","fetchData","fetch","then","response","json","data","useEffect","post_arr","map","e","i","push","length","display","Post_image","url","Post_Title","Post_teaser","Post_author","Post_author_lastname","Post_Date"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { SiteFooter } from \"./footer\";\r\nimport { SiteHeader } from \"./header\";\r\nimport { BLOG_SINGLE_ROUTE } from \"./utils/consts\";\r\n\r\nexport const SectionBlog = () =>{\r\n  const history = useHistory()  \r\n  const params = useParams()\r\n  const it_number = params.id;\r\n  \r\n\r\n\r\n  const [posts, setPosts] = React.useState([]);\r\n  const fetchData = () => {\r\n    fetch('https://cdn.lk-ft.ru/posts')\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setPosts(data);\r\n      })\r\n  };\r\n  React.useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n \r\n  var post_arr = [];\r\n  posts.map((e,i) => {\r\n  post_arr.push(e);\r\n    })\r\n\r\n  post_arr.length=4;\r\n \r\n  //console.log(post_arr)\r\n  return(\r\n        <>\r\n                <section class=\"blog-section padding-top\" style={{display:\"flex\"}}>\r\n                    <div class=\"container\">\r\n                        <div class=\"section-header-2\">\r\n                            <h2 class=\"title\">\r\n                                <div class=\"stroke-text\">Последние новсти</div>\r\n                                <span class=\"text-theme\">Новости</span>\r\n                            </h2>\r\n                        </div>\r\n                        <div class=\"\">\r\n                        { post_arr.map((e,i) => <>\r\n                            <div class=\"blog-footer-widget blog-item-2 mt-3\" >\r\n                            \r\n                                <img className=\"blog-footer-widget-right\" src={\"https://cdn.lk-ft.ru\"+e.Post_image?.url}/>\r\n                                <div className=\"blog-footer-widget-left\">\r\n                                    <div class=\"blog-body\">\r\n                                        <h5 class=\"title\"><a href=\"#0\">{e.Post_Title}</a></h5>\r\n                                        <p class=\"line-limit-3\">{e.Post_teaser}</p>\r\n                                        <a href=\"#single-post\" class=\"read-more\" onClick={()=> history.push(BLOG_SINGLE_ROUTE+'/'+it_number+'/'+e.id)}><span>Подробнее</span></a>\r\n                                    </div>\r\n                                    <div class=\"blog-footer\">\r\n                                        <div class=\"author\">\r\n                                            <div class=\"content\">\r\n                                                <a href=\"#single-post\" class=\"title\"  onClick={()=> history.push(BLOG_SINGLE_ROUTE+'/'+it_number+'/'+e.id)}>{e.Post_author} {e.Post_author_lastname}</a>\r\n                                            </div>\r\n                                        </div>\r\n                                        <a href=\"#single-post\" onClick={()=> history.push(BLOG_SINGLE_ROUTE+'/'+it_number+'/'+e.id)}><i class=\"flaticon-calendar\"></i>{e.Post_Date}</a>\r\n                                    </div>\r\n                                </div>\r\n                            \r\n                            </div>\r\n                        </>\r\n                        )}\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}